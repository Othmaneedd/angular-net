{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet UserDetailComponent = class UserDetailComponent {\n  constructor(formBuilder, router, ngZone, activatedRoute, crudService) {\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.ngZone = ngZone;\n    this.activatedRoute = activatedRoute;\n    this.crudService = crudService;\n    // Initialisation du formulaire avant d'appeler le service\n    this.updateForm = this.formBuilder.group({\n      firstName: [''],\n      lastName: [''],\n      email: ['']\n    });\n    // Récupération de l'ID de l'utilisateur depuis l'URL\n    this.getId = this.activatedRoute.snapshot.paramMap.get('id');\n    // Récupérer les données utilisateur pour initialiser le formulaire\n    this.crudService.GetUser(this.getId).subscribe(res => {\n      this.updateForm.setValue({\n        firstName: res.firstName,\n        lastName: res.lastName,\n        email: res.email\n      });\n    });\n  }\n  ngOnInit() {}\n  // Fonction pour mettre à jour les informations de l'utilisateur\n  onUpdate() {\n    this.crudService.updateUser(this.getId, this.updateForm.value).subscribe(() => {\n      console.log('Data updated successfully!');\n      this.ngZone.run(() => this.router.navigateByUrl('/users-list'));\n    }, err => {\n      console.log(err);\n    });\n  }\n};\nUserDetailComponent = __decorate([Component({\n  selector: 'app-user-detail',\n  templateUrl: './user-detail.component.html',\n  styleUrls: ['./user-detail.component.scss']\n})], UserDetailComponent);\nexport { UserDetailComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAwB,eAAe;AAUlD,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAI9BC,YACSC,WAAwB,EACvBC,MAAc,EACdC,MAAc,EACdC,cAA8B,EAC9BC,WAAwB;IAJzB,gBAAW,GAAXJ,WAAW;IACV,WAAM,GAANC,MAAM;IACN,WAAM,GAANC,MAAM;IACN,mBAAc,GAAdC,cAAc;IACd,gBAAW,GAAXC,WAAW;IAEnB;IACA,IAAI,CAACC,UAAU,GAAG,IAAI,CAACL,WAAW,CAACM,KAAK,CAAC;MACvCC,SAAS,EAAE,CAAC,EAAE,CAAC;MACfC,QAAQ,EAAE,CAAC,EAAE,CAAC;MACdC,KAAK,EAAE,CAAC,EAAE;KACX,CAAC;IAEF;IACA,IAAI,CAACC,KAAK,GAAG,IAAI,CAACP,cAAc,CAACQ,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IAE5D;IACA,IAAI,CAACT,WAAW,CAACU,OAAO,CAAC,IAAI,CAACJ,KAAK,CAAC,CAACK,SAAS,CAAEC,GAAQ,IAAI;MAC1D,IAAI,CAACX,UAAU,CAACY,QAAQ,CAAC;QACvBV,SAAS,EAAES,GAAG,CAACT,SAAS;QACxBC,QAAQ,EAAEQ,GAAG,CAACR,QAAQ;QACtBC,KAAK,EAAEO,GAAG,CAACP;OACZ,CAAC;IACJ,CAAC,CAAC;EACJ;EAEAS,QAAQ,IAAU;EAElB;EACAC,QAAQ;IACN,IAAI,CAACf,WAAW,CAACgB,UAAU,CAAC,IAAI,CAACV,KAAK,EAAE,IAAI,CAACL,UAAU,CAACgB,KAAK,CAAC,CAACN,SAAS,CACtE,MAAK;MACHO,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;MACzC,IAAI,CAACrB,MAAM,CAACsB,GAAG,CAAC,MAAM,IAAI,CAACvB,MAAM,CAACwB,aAAa,CAAC,aAAa,CAAC,CAAC;IACjE,CAAC,EACAC,GAAG,IAAI;MACNJ,OAAO,CAACC,GAAG,CAACG,GAAG,CAAC;IAClB,CAAC,CACF;EACH;CACD;AA7CY5B,mBAAmB,eAL/BD,SAAS,CAAC;EACT8B,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,GACW/B,mBAAmB,CA6C/B;SA7CYA,mBAAmB","names":["Component","UserDetailComponent","constructor","formBuilder","router","ngZone","activatedRoute","crudService","updateForm","group","firstName","lastName","email","getId","snapshot","paramMap","get","GetUser","subscribe","res","setValue","ngOnInit","onUpdate","updateUser","value","console","log","run","navigateByUrl","err","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\DELL\\dotnet-sqlserver-angular15-crud\\angular-crud-application\\src\\app\\components\\users-list\\users-list.component.ts"],"sourcesContent":["import { Component, OnInit, NgZone } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { CrudService } from '../../service/crud.service';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-user-detail',\r\n  templateUrl: './user-detail.component.html',\r\n  styleUrls: ['./user-detail.component.scss'],\r\n})\r\nexport class UserDetailComponent implements OnInit {\r\n  getId: any;\r\n  updateForm: FormGroup;\r\n\r\n  constructor(\r\n    public formBuilder: FormBuilder,\r\n    private router: Router,\r\n    private ngZone: NgZone,\r\n    private activatedRoute: ActivatedRoute,\r\n    private crudService: CrudService\r\n  ) {\r\n    // Initialisation du formulaire avant d'appeler le service\r\n    this.updateForm = this.formBuilder.group({\r\n      firstName: [''],\r\n      lastName: [''],\r\n      email: [''],\r\n    });\r\n\r\n    // Récupération de l'ID de l'utilisateur depuis l'URL\r\n    this.getId = this.activatedRoute.snapshot.paramMap.get('id');\r\n\r\n    // Récupérer les données utilisateur pour initialiser le formulaire\r\n    this.crudService.GetUser(this.getId).subscribe((res: any) => {\r\n      this.updateForm.setValue({\r\n        firstName: res.firstName,\r\n        lastName: res.lastName,\r\n        email: res.email,\r\n      });\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n\r\n  // Fonction pour mettre à jour les informations de l'utilisateur\r\n  onUpdate(): void {\r\n    this.crudService.updateUser(this.getId, this.updateForm.value).subscribe(\r\n      () => {\r\n        console.log('Data updated successfully!');\r\n        this.ngZone.run(() => this.router.navigateByUrl('/users-list'));\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n      }\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}