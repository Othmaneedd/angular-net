{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/crud.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction UsersListComponent_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 3)(8, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_tr_15_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const user_r2 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.openModal(\"edit\", user_r2));\n    });\n    i0.ɵɵtext(9, \"Modifier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_tr_15_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const user_r2 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.openModal(\"details\", user_r2));\n    });\n    i0.ɵɵtext(11, \"D\\u00E9tails\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_tr_15_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const user_r2 = restoredCtx.$implicit;\n      const i_r3 = restoredCtx.index;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.delete(user_r2.id, i_r3));\n    });\n    i0.ɵɵtext(13, \"Supprimer\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.email);\n  }\n}\nfunction UsersListComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"button\", 22);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.modalMode === \"add\" ? \"Ajouter\" : \"Mettre \\u00E0 jour\", \" \");\n  }\n}\nexport class UsersListComponent {\n  constructor(crudService) {\n    this.crudService = crudService;\n    this.Users = [];\n    this.searchText = '';\n    this.sortColumn = '';\n    this.sortDirection = 'asc';\n    // Pagination\n    this.currentPage = 1;\n    this.itemsPerPage = 10;\n  }\n  ngOnInit() {\n    this.crudService.GetUsers().subscribe(res => {\n      this.Users = res;\n    });\n  }\n  delete(id, i) {\n    if (window.confirm('Do you want to go ahead?')) {\n      this.crudService.deleteUser(id).subscribe(() => {\n        this.Users.splice(i, 1);\n      });\n    }\n  }\n  sortBy(column) {\n    if (this.sortColumn === column) {\n      this.sortDirection = this.sortDirection === 'asc' ? 'desc' : 'asc';\n    } else {\n      this.sortColumn = column;\n      this.sortDirection = 'asc';\n    }\n  }\n  get paginatedUsers() {\n    let filtered = this.Users.filter(user => Object.values(user).join(' ').toLowerCase().includes(this.searchText.toLowerCase()));\n    if (this.sortColumn) {\n      filtered = filtered.sort((a, b) => {\n        const aVal = a[this.sortColumn]?.toString().toLowerCase();\n        const bVal = b[this.sortColumn]?.toString().toLowerCase();\n        return this.sortDirection === 'asc' ? aVal.localeCompare(bVal) : bVal.localeCompare(aVal);\n      });\n    }\n    const start = (this.currentPage - 1) * this.itemsPerPage;\n    return filtered.slice(start, start + this.itemsPerPage);\n  }\n  get totalPages() {\n    const filteredLength = this.Users.filter(user => Object.values(user).join(' ').toLowerCase().includes(this.searchText.toLowerCase())).length;\n    return Math.ceil(filteredLength / this.itemsPerPage);\n  }\n  changePage(page) {\n    if (page >= 1 && page <= this.totalPages) {\n      this.currentPage = page;\n    }\n  }\n}\nUsersListComponent.ɵfac = function UsersListComponent_Factory(t) {\n  return new (t || UsersListComponent)(i0.ɵɵdirectiveInject(i1.CrudService));\n};\nUsersListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsersListComponent,\n  selectors: [[\"app-users-list\"]],\n  decls: 38,\n  vars: 7,\n  consts: [[1, \"btn\", \"btn-success\", \"mb-3\", 3, \"click\"], [1, \"table-responsive\"], [1, \"table\", \"table-bordered\"], [1, \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"userModal\", \"tabindex\", \"-1\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Fermer\", 1, \"btn-close\"], [1, \"modal-body\"], [1, \"mb-3\"], [\"type\", \"text\", \"formControlName\", \"firstName\", 1, \"form-control\", 3, \"readonly\"], [\"type\", \"text\", \"formControlName\", \"lastName\", 1, \"form-control\", 3, \"readonly\"], [\"type\", \"email\", \"formControlName\", \"email\", 1, \"form-control\", 3, \"readonly\"], [\"class\", \"modal-footer\", 4, \"ngIf\"], [1, \"btn\", \"btn-sm\", \"btn-primary\", \"me-2\", 3, \"click\"], [1, \"btn\", \"btn-sm\", \"btn-info\", \"me-2\", 3, \"click\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"], [1, \"modal-footer\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function UsersListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function UsersListComponent_Template_button_click_0_listener() {\n        return ctx.openModal(\"add\");\n      });\n      i0.ɵɵtext(1, \"+ Ajouter un utilisateur\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"table\", 2)(4, \"thead\")(5, \"tr\")(6, \"th\");\n      i0.ɵɵtext(7, \"First Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"th\");\n      i0.ɵɵtext(9, \"Last Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\", 3);\n      i0.ɵɵtext(13, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(14, \"tbody\");\n      i0.ɵɵtemplate(15, UsersListComponent_tr_15_Template, 14, 3, \"tr\", 4);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"div\", 5)(17, \"div\", 6)(18, \"div\", 7)(19, \"form\", 8);\n      i0.ɵɵlistener(\"ngSubmit\", function UsersListComponent_Template_form_ngSubmit_19_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(20, \"div\", 9)(21, \"h5\", 10);\n      i0.ɵɵtext(22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(23, \"button\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\", 12)(25, \"div\", 13)(26, \"label\");\n      i0.ɵɵtext(27, \"First Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(28, \"input\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 13)(30, \"label\");\n      i0.ɵɵtext(31, \"Last Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(32, \"input\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"div\", 13)(34, \"label\");\n      i0.ɵɵtext(35, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(36, \"input\", 16);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(37, UsersListComponent_div_37_Template, 3, 1, \"div\", 17);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", ctx.Users);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.userForm);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", ctx.modalMode === \"add\" ? \"Ajouter\" : ctx.modalMode === \"edit\" ? \"Modifier\" : \"D\\u00E9tails\", \" Utilisateur \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"readonly\", ctx.modalMode === \"details\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"readonly\", ctx.modalMode === \"details\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"readonly\", ctx.modalMode === \"details\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.modalMode !== \"details\");\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","UsersListComponent","constructor","crudService","ngOnInit","GetUsers","subscribe","res","Users","delete","id","i","window","confirm","deleteUser","splice","sortBy","column","sortColumn","sortDirection","paginatedUsers","filtered","filter","user","Object","values","join","toLowerCase","includes","searchText","sort","a","b","aVal","toString","bVal","localeCompare","start","currentPage","itemsPerPage","slice","totalPages","filteredLength","length","Math","ceil","changePage","page","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\DELL\\dotnet-sqlserver-angular15-crud\\angular-crud-application\\src\\app\\components\\users-list\\users-list.component.html","C:\\Users\\DELL\\dotnet-sqlserver-angular15-crud\\angular-crud-application\\src\\app\\components\\users-list\\users-list.component.ts"],"sourcesContent":["<!-- Bouton pour ajouter un utilisateur -->\r\n<button class=\"btn btn-success mb-3\" (click)=\"openModal('add')\">+ Ajouter un utilisateur</button>\r\n\r\n<!-- Tableau d'utilisateurs -->\r\n<div class=\"table-responsive\">\r\n  <table class=\"table table-bordered\">\r\n    <thead>\r\n      <tr>\r\n        <th>First Name</th>\r\n        <th>Last Name</th>\r\n        <th>Email</th>\r\n        <th class=\"text-center\">Actions</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let user of Users; let i = index\">\r\n        <td>{{ user.firstName }}</td>\r\n        <td>{{ user.lastName }}</td>\r\n        <td>{{ user.email }}</td>\r\n        <td class=\"text-center\">\r\n          <button class=\"btn btn-sm btn-primary me-2\" (click)=\"openModal('edit', user)\">Modifier</button>\r\n          <button class=\"btn btn-sm btn-info me-2\" (click)=\"openModal('details', user)\">Détails</button>\r\n          <button class=\"btn btn-sm btn-danger\" (click)=\"delete(user.id, i)\">Supprimer</button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n\r\n<!-- Modal -->\r\n<div class=\"modal fade\" id=\"userModal\" tabindex=\"-1\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered\">\r\n    <div class=\"modal-content\">\r\n      <form [formGroup]=\"userForm\" (ngSubmit)=\"onSubmit()\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\">\r\n            {{ modalMode === 'add' ? 'Ajouter' : modalMode === 'edit' ? 'Modifier' : 'Détails' }} Utilisateur\r\n          </h5>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Fermer\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"mb-3\">\r\n            <label>First Name</label>\r\n            <input type=\"text\" class=\"form-control\" formControlName=\"firstName\" [readonly]=\"modalMode === 'details'\" />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label>Last Name</label>\r\n            <input type=\"text\" class=\"form-control\" formControlName=\"lastName\" [readonly]=\"modalMode === 'details'\" />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label>Email</label>\r\n            <input type=\"email\" class=\"form-control\" formControlName=\"email\" [readonly]=\"modalMode === 'details'\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\" *ngIf=\"modalMode !== 'details'\">\r\n          <button type=\"submit\" class=\"btn btn-primary\">\r\n            {{ modalMode === 'add' ? 'Ajouter' : 'Mettre à jour' }}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CrudService } from '../../service/crud.service';\r\n\r\n@Component({\r\n  selector: 'app-users-list',\r\n  templateUrl: './users-list.component.html',\r\n  styleUrls: ['./users-list.component.scss']\r\n})\r\nexport class UsersListComponent implements OnInit {\r\n  Users: any[] = [];\r\n  searchText = '';\r\n  sortColumn = '';\r\n  sortDirection: 'asc' | 'desc' = 'asc';\r\n\r\n  // Pagination\r\n  currentPage = 1;\r\n  itemsPerPage = 10;\r\n\r\n  constructor(private crudService: CrudService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.crudService.GetUsers().subscribe((res: any) => {\r\n      this.Users = res;\r\n    });\r\n  }\r\n\r\n  delete(id: any, i: any) {\r\n    if (window.confirm('Do you want to go ahead?')) {\r\n      this.crudService.deleteUser(id).subscribe(() => {\r\n        this.Users.splice(i, 1);\r\n      });\r\n    }\r\n  }\r\n\r\n  sortBy(column: string) {\r\n    if (this.sortColumn === column) {\r\n      this.sortDirection = this.sortDirection === 'asc' ? 'desc' : 'asc';\r\n    } else {\r\n      this.sortColumn = column;\r\n      this.sortDirection = 'asc';\r\n    }\r\n  }\r\n\r\n  get paginatedUsers() {\r\n    let filtered = this.Users\r\n      .filter(user =>\r\n        Object.values(user)\r\n          .join(' ')\r\n          .toLowerCase()\r\n          .includes(this.searchText.toLowerCase())\r\n      );\r\n\r\n    if (this.sortColumn) {\r\n      filtered = filtered.sort((a, b) => {\r\n        const aVal = a[this.sortColumn]?.toString().toLowerCase();\r\n        const bVal = b[this.sortColumn]?.toString().toLowerCase();\r\n        return this.sortDirection === 'asc'\r\n          ? aVal.localeCompare(bVal)\r\n          : bVal.localeCompare(aVal);\r\n      });\r\n    }\r\n\r\n    const start = (this.currentPage - 1) * this.itemsPerPage;\r\n    return filtered.slice(start, start + this.itemsPerPage);\r\n  }\r\n\r\n  get totalPages() {\r\n    const filteredLength = this.Users.filter(user =>\r\n      Object.values(user)\r\n        .join(' ')\r\n        .toLowerCase()\r\n        .includes(this.searchText.toLowerCase())\r\n    ).length;\r\n    return Math.ceil(filteredLength / this.itemsPerPage);\r\n  }\r\n\r\n  changePage(page: number) {\r\n    if (page >= 1 && page <= this.totalPages) {\r\n      this.currentPage = page;\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}