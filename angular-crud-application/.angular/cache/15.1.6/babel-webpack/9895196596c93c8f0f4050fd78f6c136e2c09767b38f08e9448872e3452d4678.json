{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/crud.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nfunction UsersListComponent_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.sortDirection === \"asc\" ? \"\\u2191\" : \"\\u2193\", \" \");\n  }\n}\nfunction UsersListComponent_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.sortDirection === \"asc\" ? \"\\u2191\" : \"\\u2193\", \" \");\n  }\n}\nfunction UsersListComponent_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.sortDirection === \"asc\" ? \"\\u2191\" : \"\\u2193\", \" \");\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/edit-user\", a1];\n};\nconst _c1 = function (a1) {\n  return [\"/user\", a1];\n};\nfunction UsersListComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 6)(8, \"button\", 9);\n    i0.ɵɵtext(9, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_tr_18_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const user_r5 = restoredCtx.$implicit;\n      const i_r6 = restoredCtx.index;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.delete(user_r5.id, i_r6));\n    });\n    i0.ɵɵtext(11, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 11);\n    i0.ɵɵtext(13, \" \\uD83D\\uDD0D D\\u00E9tails \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r5.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r5.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r5.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(5, _c0, user_r5.id));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c1, user_r5.id));\n  }\n}\nfunction UsersListComponent_nav_19_li_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 14)(1, \"a\", 17);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_nav_19_li_8_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const i_r11 = restoredCtx.index;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.changePage(i_r11 + 1));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r11 = ctx.index;\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"active\", ctx_r9.currentPage === i_r11 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i_r11 + 1, \" \");\n  }\n}\nconst _c2 = function () {\n  return [];\n};\nfunction UsersListComponent_nav_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"nav\", 12)(1, \"ul\", 13)(2, \"li\", 14)(3, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_nav_19_Template_a_click_3_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.changePage(1));\n    });\n    i0.ɵɵtext(4, \"\\u00AB\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"li\", 14)(6, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_nav_19_Template_a_click_6_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.changePage(ctx_r16.currentPage - 1));\n    });\n    i0.ɵɵtext(7, \"\\u2039\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(8, UsersListComponent_nav_19_li_8_Template, 3, 3, \"li\", 16);\n    i0.ɵɵelementStart(9, \"li\", 14)(10, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_nav_19_Template_a_click_10_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.changePage(ctx_r17.currentPage + 1));\n    });\n    i0.ɵɵtext(11, \"\\u203A\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"li\", 14)(13, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_nav_19_Template_a_click_13_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.changePage(ctx_r18.totalPages));\n    });\n    i0.ɵɵtext(14, \"\\u00BB\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"disabled\", ctx_r4.currentPage === 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"disabled\", ctx_r4.currentPage === 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(9, _c2).constructor(ctx_r4.totalPages));\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"disabled\", ctx_r4.currentPage === ctx_r4.totalPages);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"disabled\", ctx_r4.currentPage === ctx_r4.totalPages);\n  }\n}\nexport class UsersListComponent {\n  constructor(crudService) {\n    this.crudService = crudService;\n    this.Users = [];\n    this.selectedUser = null;\n  }\n  ngOnInit() {\n    this.getAllUsers();\n  }\n  getAllUsers() {\n    this.crudService.GetUsers().subscribe(res => {\n      this.Users = res;\n    });\n  }\n  delete(id, i) {\n    if (window.confirm('Do you want to delete this user?')) {\n      this.crudService.deleteUser(id).subscribe(() => {\n        this.Users.splice(i, 1);\n      });\n    }\n  }\n  showDetails(user) {\n    this.selectedUser = {\n      ...user\n    }; // clone pour ne pas modifier directement\n  }\n\n  clearDetails() {\n    this.selectedUser = null;\n  }\n  updateSelectedUser() {\n    if (!this.selectedUser?.id) return;\n    this.crudService.updateUser(this.selectedUser.id, this.selectedUser).subscribe(() => {\n      const index = this.Users.findIndex(u => u.id === this.selectedUser.id);\n      if (index !== -1) {\n        this.Users[index] = {\n          ...this.selectedUser\n        };\n      }\n      alert('Utilisateur mis à jour avec succès !');\n      this.clearDetails();\n    });\n  }\n}\nUsersListComponent.ɵfac = function UsersListComponent_Factory(t) {\n  return new (t || UsersListComponent)(i0.ɵɵdirectiveInject(i1.CrudService));\n};\nUsersListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsersListComponent,\n  selectors: [[\"app-users-list\"]],\n  decls: 20,\n  vars: 6,\n  consts: [[1, \"mb-3\"], [\"type\", \"text\", \"placeholder\", \"Rechercher...\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [1, \"table-responsive\"], [1, \"table\", \"table-bordered\"], [3, \"click\"], [4, \"ngIf\"], [1, \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"mt-4\", 4, \"ngIf\"], [1, \"btn\", \"btn-sm\", \"btn-primary\", 3, \"routerLink\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"], [1, \"btn\", \"btn-sm\", \"btn-info\", 3, \"routerLink\"], [1, \"mt-4\"], [1, \"pagination\", \"justify-content-center\", \"gap-2\"], [1, \"page-item\"], [1, \"page-link\", \"rounded-circle\", 3, \"click\"], [\"class\", \"page-item\", 3, \"active\", 4, \"ngFor\", \"ngForOf\"], [1, \"page-link\", \"rounded-circle\", \"text-center\", 2, \"width\", \"38px\", \"height\", \"38px\", \"line-height\", \"38px\", 3, \"click\"]],\n  template: function UsersListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"input\", 1);\n      i0.ɵɵlistener(\"ngModelChange\", function UsersListComponent_Template_input_ngModelChange_1_listener($event) {\n        return ctx.searchText = $event;\n      })(\"input\", function UsersListComponent_Template_input_input_1_listener() {\n        return ctx.currentPage = 1;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"table\", 3)(4, \"thead\")(5, \"tr\")(6, \"th\", 4);\n      i0.ɵɵlistener(\"click\", function UsersListComponent_Template_th_click_6_listener() {\n        return ctx.sortBy(\"firstName\");\n      });\n      i0.ɵɵtext(7, \" First Name \");\n      i0.ɵɵtemplate(8, UsersListComponent_span_8_Template, 2, 1, \"span\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\", 4);\n      i0.ɵɵlistener(\"click\", function UsersListComponent_Template_th_click_9_listener() {\n        return ctx.sortBy(\"lastName\");\n      });\n      i0.ɵɵtext(10, \" Last Name \");\n      i0.ɵɵtemplate(11, UsersListComponent_span_11_Template, 2, 1, \"span\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\", 4);\n      i0.ɵɵlistener(\"click\", function UsersListComponent_Template_th_click_12_listener() {\n        return ctx.sortBy(\"email\");\n      });\n      i0.ɵɵtext(13, \" Email \");\n      i0.ɵɵtemplate(14, UsersListComponent_span_14_Template, 2, 1, \"span\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\", 6);\n      i0.ɵɵtext(16, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"tbody\");\n      i0.ɵɵtemplate(18, UsersListComponent_tr_18_Template, 14, 9, \"tr\", 7);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(19, UsersListComponent_nav_19_Template, 15, 10, \"nav\", 8);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchText);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.sortColumn === \"firstName\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.sortColumn === \"lastName\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.sortColumn === \"email\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.paginatedUsers);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.totalPages > 1);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","UsersListComponent","constructor","crudService","ngOnInit","getAllUsers","GetUsers","subscribe","res","Users","delete","id","i","window","confirm","deleteUser","splice","showDetails","user","selectedUser","clearDetails","updateSelectedUser","updateUser","index","findIndex","u","alert","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\DELL\\dotnet-sqlserver-angular15-crud\\angular-crud-application\\src\\app\\components\\users-list\\users-list.component.html","C:\\Users\\DELL\\dotnet-sqlserver-angular15-crud\\angular-crud-application\\src\\app\\components\\users-list\\users-list.component.ts"],"sourcesContent":["<div class=\"mb-3\">\r\n  <input\r\n    type=\"text\"\r\n    class=\"form-control\"\r\n    placeholder=\"Rechercher...\"\r\n    [(ngModel)]=\"searchText\"\r\n    (input)=\"currentPage = 1\"\r\n  />\r\n</div>\r\n\r\n<div class=\"table-responsive\">\r\n  <table class=\"table table-bordered\">\r\n    <thead>\r\n      <tr>\r\n        <th (click)=\"sortBy('firstName')\">\r\n          First Name\r\n          <span *ngIf=\"sortColumn === 'firstName'\">\r\n            {{ sortDirection === 'asc' ? '↑' : '↓' }}\r\n          </span>\r\n        </th>\r\n        <th (click)=\"sortBy('lastName')\">\r\n          Last Name\r\n          <span *ngIf=\"sortColumn === 'lastName'\">\r\n            {{ sortDirection === 'asc' ? '↑' : '↓' }}\r\n          </span>\r\n        </th>\r\n        <th (click)=\"sortBy('email')\">\r\n          Email\r\n          <span *ngIf=\"sortColumn === 'email'\">\r\n            {{ sortDirection === 'asc' ? '↑' : '↓' }}\r\n          </span>\r\n        </th>\r\n        <th class=\"text-center\">Action</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let user of paginatedUsers; let i = index\">\r\n        <td>{{ user.firstName }}</td>\r\n        <td>{{ user.lastName }}</td>\r\n        <td>{{ user.email }}</td>\r\n        <td class=\"text-center\">\r\n          <button class=\"btn btn-sm btn-primary\" [routerLink]=\"['/edit-user', user.id]\">Edit</button>\r\n          <button class=\"btn btn-sm btn-danger\" (click)=\"delete(user.id, i)\">Delete</button>\r\n          <button class=\"btn btn-sm btn-info\" [routerLink]=\"['/user', user.id]\">\r\n            🔍 Détails\r\n          </button>        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n\r\n<!-- Pagination -->\r\n<nav *ngIf=\"totalPages > 1\" class=\"mt-4\">\r\n  <ul class=\"pagination justify-content-center gap-2\">\r\n    <li class=\"page-item\" [class.disabled]=\"currentPage === 1\">\r\n      <a class=\"page-link rounded-circle\" (click)=\"changePage(1)\">«</a>\r\n    </li>\r\n    <li class=\"page-item\" [class.disabled]=\"currentPage === 1\">\r\n      <a class=\"page-link rounded-circle\" (click)=\"changePage(currentPage - 1)\">‹</a>\r\n    </li>\r\n\r\n    <li\r\n      class=\"page-item\"\r\n      *ngFor=\"let page of [].constructor(totalPages); let i = index\"\r\n      [class.active]=\"currentPage === i + 1\"\r\n    >\r\n      <a\r\n        class=\"page-link rounded-circle text-center\"\r\n        style=\"width: 38px; height: 38px; line-height: 38px\"\r\n        (click)=\"changePage(i + 1)\"\r\n      >\r\n        {{ i + 1 }}\r\n      </a>\r\n    </li>\r\n\r\n    <li class=\"page-item\" [class.disabled]=\"currentPage === totalPages\">\r\n      <a class=\"page-link rounded-circle\" (click)=\"changePage(currentPage + 1)\">›</a>\r\n    </li>\r\n    <li class=\"page-item\" [class.disabled]=\"currentPage === totalPages\">\r\n      <a class=\"page-link rounded-circle\" (click)=\"changePage(totalPages)\">»</a>\r\n    </li>\r\n  </ul>\r\n</nav>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CrudService } from '../../service/crud.service';\r\n\r\n@Component({\r\n  selector: 'app-users-list',\r\n  templateUrl: './users-list.component.html',\r\n  styleUrls: ['./users-list.component.scss'],\r\n})\r\nexport class UsersListComponent implements OnInit {\r\n  Users: any[] = [];\r\n  selectedUser: any = null;\r\n\r\n  constructor(private crudService: CrudService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.getAllUsers();\r\n  }\r\n\r\n  getAllUsers(): void {\r\n    this.crudService.GetUsers().subscribe((res: any) => {\r\n      this.Users = res;\r\n    });\r\n  }\r\n\r\n  delete(id: number, i: number): void {\r\n    if (window.confirm('Do you want to delete this user?')) {\r\n      this.crudService.deleteUser(id).subscribe(() => {\r\n        this.Users.splice(i, 1);\r\n      });\r\n    }\r\n  }\r\n\r\n  showDetails(user: any): void {\r\n    this.selectedUser = { ...user }; // clone pour ne pas modifier directement\r\n  }\r\n\r\n  clearDetails(): void {\r\n    this.selectedUser = null;\r\n  }\r\n\r\n  updateSelectedUser(): void {\r\n    if (!this.selectedUser?.id) return;\r\n\r\n    this.crudService.updateUser(this.selectedUser.id, this.selectedUser).subscribe(() => {\r\n      const index = this.Users.findIndex((u) => u.id === this.selectedUser.id);\r\n      if (index !== -1) {\r\n        this.Users[index] = { ...this.selectedUser };\r\n      }\r\n      alert('Utilisateur mis à jour avec succès !');\r\n      this.clearDetails();\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}