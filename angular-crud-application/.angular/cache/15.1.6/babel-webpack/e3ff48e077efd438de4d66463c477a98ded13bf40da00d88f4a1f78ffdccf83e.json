{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../service/crud.service\";\nexport class UserDetailComponent {\n  constructor(formBuilder, router, ngZone, activatedRoute, crudService) {\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.ngZone = ngZone;\n    this.activatedRoute = activatedRoute;\n    this.crudService = crudService;\n  }\n  ngOnInit() {\n    this.getId = this.activatedRoute.snapshot.paramMap.get('id');\n    this.updateForm = this.formBuilder.group({\n      firstName: [''],\n      lastName: [''],\n      email: ['']\n    });\n    this.crudService.GetUser(this.getId).subscribe(res => {\n      this.updateForm.patchValue({\n        firstName: res.firstName,\n        lastName: res.lastName,\n        email: res.email\n      });\n    });\n  }\n  onUpdate() {\n    this.crudService.updateUser(this.getId, this.updateForm.value).subscribe({\n      next: () => {\n        console.log('User updated');\n        this.ngZone.run(() => this.router.navigate(['/users-list']));\n      },\n      error: err => console.error(err)\n    });\n  }\n}\nUserDetailComponent.ɵfac = function UserDetailComponent_Factory(t) {\n  return new (t || UserDetailComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.CrudService));\n};\nUserDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UserDetailComponent,\n  selectors: [[\"app-user-detail\"]],\n  decls: 0,\n  vars: 0,\n  template: function UserDetailComponent_Template(rf, ctx) {},\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;AAUA,OAAM,MAAOA,mBAAmB;EAI9BC,YACUC,WAAwB,EACxBC,MAAc,EACdC,MAAc,EACdC,cAA8B,EAC9BC,WAAwB;IAJxB,gBAAW,GAAXJ,WAAW;IACX,WAAM,GAANC,MAAM;IACN,WAAM,GAANC,MAAM;IACN,mBAAc,GAAdC,cAAc;IACd,gBAAW,GAAXC,WAAW;EAClB;EAEHC,QAAQ;IACN,IAAI,CAACC,KAAK,GAAG,IAAI,CAACH,cAAc,CAACI,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IAE5D,IAAI,CAACC,UAAU,GAAG,IAAI,CAACV,WAAW,CAACW,KAAK,CAAC;MACvCC,SAAS,EAAE,CAAC,EAAE,CAAC;MACfC,QAAQ,EAAE,CAAC,EAAE,CAAC;MACdC,KAAK,EAAE,CAAC,EAAE;KACX,CAAC;IAEF,IAAI,CAACV,WAAW,CAACW,OAAO,CAAC,IAAI,CAACT,KAAK,CAAC,CAACU,SAAS,CAAEC,GAAQ,IAAI;MAC1D,IAAI,CAACP,UAAU,CAACQ,UAAU,CAAC;QACzBN,SAAS,EAAEK,GAAG,CAACL,SAAS;QACxBC,QAAQ,EAAEI,GAAG,CAACJ,QAAQ;QACtBC,KAAK,EAAEG,GAAG,CAACH;OACZ,CAAC;IACJ,CAAC,CAAC;EACJ;EAEAK,QAAQ;IACN,IAAI,CAACf,WAAW,CAACgB,UAAU,CAAC,IAAI,CAACd,KAAK,EAAE,IAAI,CAACI,UAAU,CAACW,KAAK,CAAC,CAACL,SAAS,CAAC;MACvEM,IAAI,EAAE,MAAK;QACTC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;QAC3B,IAAI,CAACtB,MAAM,CAACuB,GAAG,CAAC,MAAM,IAAI,CAACxB,MAAM,CAACyB,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;MAC9D,CAAC;MACDC,KAAK,EAAGC,GAAG,IAAKL,OAAO,CAACI,KAAK,CAACC,GAAG;KAClC,CAAC;EACJ;;;mBAtCW9B,mBAAmB;AAAA;;QAAnBA,mBAAmB;EAAA+B;EAAAC;EAAAC;EAAAC;EAAAC;AAAA","names":["UserDetailComponent","constructor","formBuilder","router","ngZone","activatedRoute","crudService","ngOnInit","getId","snapshot","paramMap","get","updateForm","group","firstName","lastName","email","GetUser","subscribe","res","patchValue","onUpdate","updateUser","value","next","console","log","run","navigate","error","err","selectors","decls","vars","template","styles"],"sourceRoot":"","sources":["C:\\Users\\DELL\\dotnet-sqlserver-angular15-crud\\angular-crud-application\\src\\app\\components\\user-detail\\user-detail.component.ts"],"sourcesContent":["import { Component, OnInit, NgZone } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { CrudService } from '../../service/crud.service';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-user-detail',\r\n  templateUrl: './user-detail.component.html',\r\n  styleUrls: ['./user-detail.component.scss'],\r\n})\r\nexport class UserDetailComponent implements OnInit {\r\n  getId: any;\r\n  updateForm!: FormGroup;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private router: Router,\r\n    private ngZone: NgZone,\r\n    private activatedRoute: ActivatedRoute,\r\n    private crudService: CrudService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.getId = this.activatedRoute.snapshot.paramMap.get('id');\r\n\r\n    this.updateForm = this.formBuilder.group({\r\n      firstName: [''],\r\n      lastName: [''],\r\n      email: [''],\r\n    });\r\n\r\n    this.crudService.GetUser(this.getId).subscribe((res: any) => {\r\n      this.updateForm.patchValue({\r\n        firstName: res.firstName,\r\n        lastName: res.lastName,\r\n        email: res.email,\r\n      });\r\n    });\r\n  }\r\n\r\n  onUpdate(): void {\r\n    this.crudService.updateUser(this.getId, this.updateForm.value).subscribe({\r\n      next: () => {\r\n        console.log('User updated');\r\n        this.ngZone.run(() => this.router.navigate(['/users-list']));\r\n      },\r\n      error: (err) => console.error(err)\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}